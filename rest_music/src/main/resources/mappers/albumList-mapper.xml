<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwill.rest.repository.AlbumDao">

    <!-- album 테이블 전체 검색. 목록 보기. -->
    <select id="selectAllByAlbumId" resultType="Album">
        select * from albums order by album_id desc
    </select>
    
    <!-- album 테이블에서 id(PK)로 검색. -->
    <select id="selectById" resultType="Album">
        select * from album where id = #{id}
    </select>
    
    <!-- 좋아요 -->
    <update id="incrementLikes" parameterType="int">
        update album
        SET likes = likes + 1
        where album_id = #{albumId}
    </update>

</mapper>